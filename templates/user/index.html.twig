{% extends 'base-admin.html.twig' %}

{% block title %}Utilisateurs{% endblock %}

{% block body %}
    {% for message in app.flashes('success') %}
        <div class="alert alert-success">
            {{ message }}
        </div>
    {% endfor %}
<h1>User index</h1>
    <a class="btn btn-primary" href="{{ path('ajouter_user') }}">Create new</a>
    <a class="btn btn-primary" href="{{ path('afficheuser') }}"> view profile </a>
    <table class="table">

    <thead>
    <tr>
        <th>Image</th>
        <th>Surnom</th>
        <th>Nom</th>
        <th>Email</th>
        <th>Telephone</th>
        <th>Role</th>
        <th>Block</th>
        <th>actions</th>
    </tr>
    </thead>
    <tbody>
    {% for user in users %}
        <tr>
                <td><img src="{{ asset('uploads/' ~ user.image) }}"
                alt="" width="100" height="100">
                </td>
            <td>{{ user.surnom }}</td>
            <td>{{ user.nom }}</td>
            <td>{{ user.email }}</td>
            <td>{{ user.telephone }}</td>
            <td>{{ user.role }}</td>
            <td>{{ user.block }}</td>
            <td>
                <a class="btn btn-primary" href="{{ path('modifier_user',{'id' : user.id}) }}">edit</a>
                <a class="btn btn-primary" href="{{ path('user_block',  {'id': user.id}) }}">Block</a>
            </td>
        </tr>
    {% else %}
        <tr>
            <td colspan="10">no records found</td>
        </tr>
    {% endfor %}
    </tbody>
</table>

{% endblock %}
